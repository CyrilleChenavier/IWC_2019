\documentclass[10pt]{easychair}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amssymb,mathrsfs}
\pagestyle{plain}
\usepackage{enumitem} 
\usepackage{amsthm}
\usepackage{titlesec}
\usepackage[all]{xy}
\usepackage{algorithm}
\usepackage{algorithmic}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{property}[theorem]{Property}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}


\newcommand\K{\mathbb{K}}
\newcommand\KX{\K X}
\newcommand\supp{\text{supp}}
\newcommand\rewR{\underset{R}{\longrightarrow}}
\newcommand\rewh{\underset{h}{\longrightarrow}}
\newcommand\equivR{\underset{R}{\overset{*}{\longleftrightarrow}}}
\newcommand\equivh{\underset{h}{\overset{*}{\longleftrightarrow}}}


\newcommand\todo[1]{\textcolor{red}{#1.}}

\begin{document}

\title{Title}

\author{
Cyrille Chenavier\inst{1}
\and
Maxime Lucas\inst{2}
}

\institute{
  Inria Lille - Nord Europe, équipe Valse\\
  \email{cyrille.chenavier@inria.fr}
\and
Inria Rennes - Bretagne Atlantique, équipe Gallinette\\
\email{maxime.lucas@inria.fr}
}

\authorrunning{Chenavier and Lucas}
\titlerunning{Running title}

\maketitle

\begin{abstract}

  
\end{abstract}
 
\section{Introduction}

\section{Well-formed rewriting steps}

We fix a commutative field $\K$ as well as a well-founded ordered set
$(X,<)$. We denote by $\KX$ the vector space spanned by~$X$: an element
$v\in\KX$ is a finite formal linear combination of elements of $X$ with
coefficients in $\K$. In particular, for every $v\in\KX$, there exists a
unique finite set $\supp(v)\subset X$, called the \emph{support} of $v$,
such that
\begin{equation}\label{equ:support}
  v=\sum_{x\in\supp(v)}\lambda_xx\ \text{and}\ x\in X\Rightarrow\lambda_x
  \neq 0.
\end{equation}

\smallskip
\noindent
We denote by $\supp(v)^c=X\setminus\supp(v)$. The sum of
$u=\sum\lambda_xx$ and $v=\sum\mu_xx$ equals $\sum(\lambda_x+\mu_x)x$ and
the product of $\lambda\in\K$ by $v$ equals $\sum(\lambda\lambda_x)x$. We
extend the order $<$ into the multiset order, still written $<$, on
$\KX$: we have $u<v$ if for every $x\in\supp(u)\cap\supp(v)^c$, there
exists $y\in\supp(v)\cap\supp(u)^c$ such that $y>x$.

\medskip

We fix a set $R\subseteq X\times\KX$ which represents rewrite rules of
the form $x\rewR r$. The set $R$ induces the rewriting relation on $\KX$,
still written $\rewR$, defined as follows:
\begin{equation}\label{equ:rewriting_step}
  \sum\lambda_xx+v\rewR\sum\lambda_xr_x+v,
\end{equation}
whenever $\lambda_x\neq 0$, $x\rewR r_x\in R$ and $x\notin\supp(v)$. We
assume that for every $x\in X$, not minimal for $<$, there exists
$x\rewR r\in R$ such that $r<x$. We choose such a rule $h_x$ for every
non-minimal~$x$. Any vector $v$ can be decomposed in a unique way as
$\sum\lambda_xx+v'$, where $y\in\supp(v')$ implies that $y$ is minimal
for $<$, and $x\in\supp(v)$ is not. We define a rewriting relation
$\rewh$ as follows:
\begin{equation}\label{equ:well-formed_rewriting_step}
  \sum\lambda_xx+v'\rewh\sum\lambda_xr_x+v',
\end{equation}
where for every $x$, $h_x=x \rewR r_x$.

\medskip

\begin{definition}
  A vector $v$ is said to be an \emph{$h$-normal form} if it is a normal
  form for $\rewh$.
\end{definition}


\begin{example}
\todo{Donner un exemple et un contre-exemple}
\end{example}


\begin{lemma}\label{lem:h_normal_forms}
  Let $v$ be a vector in $\KX$, and suppose $v\rewh v'$. Then, either $v$
  is minimal for $<$, or $v' > v$. In particular, $h$-normal forms are
  precisely the minimal elements of $\KX$ for $<$.
\end{lemma}

For each $v\in\KX$, there exists at most one $v'$ such that $v \rewh v'$,
and $\rewh$ is compatible with the termination order $<$. As a
consequence, any $v \in \KX$ is sent by multiple applications of $\rewh$
to a unique $h$-normal form that we denote by $H(v)$. This defines a map
$H : \KX \to \KX$.  

\begin{proposition}\label{prop:linearity_of_H}
  The map $H$ is linear.
\end{proposition}

\begin{proof}[Sketch of proof]
  \todo{TODO}
\end{proof}

\section{A confluence criterion}

In this section, we assume that $R$ satisfies the following property:
\begin{property}\label{proper;standardisation_property}
  For every rewrite rule $x\rewR v\in R$, we have $\ x-v\in\ker(H)$.
\end{property}

\begin{example}
\todo{Donner un exemple et un contre-exemple}
\end{example}

\begin{proposition}\label{prop:equationnal_theory}
  Assume that Property~\ref{proper;standardisation_property} holds, then
  $u\equivR v$ if and only if $u-v\in\ker(H)$.
\end{proposition}

\begin{proof}[Sketch of proof]
  \todo{Il faut montrer que les gens qui vérifient la propriété de
    standardisation sont clos par les opérations somme, composition et
    inverse}
\end{proof}

In Theorem~\ref{thm:confluence_criterion}, we introduce a confluence
criterion when $R$ satisfies~\ref{proper;standardisation_property}. For
that, we assume that $R$ is equipped with a well-founded order $\prec$
satisfying the following decreasingness property:

\begin{property}\label{proper:decreasingness_property}
  For every $x\in X$ and $r=x\to v$, if $x$ is not minimal for $<$, then
  letting $h_x=x\rewR r_x$, we have the confluence diagram
  
  \[
    \xymatrix @C = 4em @R = 1.5em{
      &
      r_x
      \ar@{.>}@/^/ [rd] ^{*}
      & \\
      x
      \ar@/^/ [ru] ^{h_x}
      \ar@/_/ [rd] _{r}
      &
      &
      v'
      \\
      &
      v
      \ar@{.>}@/_/  [ru] _{*}
      &
    }
  \]
  where each rewriting step occuring in the dotted arrows are strictly
  smaller than $r$ for $\prec$.
\end{property}

\begin{theorem}\label{thm:confluence_criterion}
  Assume that $R$ satisfies Properties
  \ref{proper;standardisation_property} and
  \ref{proper:decreasingness_property}. Then $\rewR$ is confluent.
\end{theorem}

\begin{proof}
  \todo{Adapter le cas ensembliste}
\end{proof}

\end{document}

